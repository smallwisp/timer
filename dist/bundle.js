(()=>{"use strict";const e=function(){var e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),n=document.querySelectorAll(".service-tab");e.addEventListener("click",(function(e){var r=e.target;(r=r.closest(".service-header-tab"))&&t.forEach((function(e,a){e===r&&function(e){for(var r=0;r<n.length;r++)e===r?(t[r].classList.add("active"),n[r].classList.remove("d-none")):(t[r].classList.remove("active"),n[r].classList.add("d-none"))}(a)}))}))},t=e;var n,r,a,o,c;(function(e){var t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),r=document.querySelector("#timer-seconds");function a(){var e=(new Date("09 september 2021").getTime()-(new Date).getTime())/1e3,t=Math.floor(e%60),n=Math.floor(e/60%60);return{timeRemaining:e,hours:Math.floor(e/60/60%24),minutes:n,seconds:t}}function o(){var e=a();e.hours<10?t.textContent="0"+e.hours:t.textContent=e.hours,e.minutes<10?n.textContent="0"+e.minutes:n.textContent=e.minutes,e.seconds<10?r.textContent="0"+e.seconds:r.textContent=e.seconds}o();var c=setInterval(o,1e3);a().timeRemaining<0&&(clearInterval(c),t.textContent="00",n.textContent="00",r.textContent="00")})(),function(){document.querySelector(".menu");var e=document.querySelector("menu"),t=(document.querySelector(".close-btn"),document.querySelectorAll("ul>li"),window.innerWidth),n=function(){e.style.transform="translate(-100%)"},r={flag:!0,duration:1e3,timing:function(e){return e},draw:function(t){e.style.transform="translate(".concat(100*t,"%)")}};document.addEventListener("click",(function(e){var a=e.target,o=e.target,c=e.target,l=e.target;if(a=a.closest(".menu"),o=o.closest("menu"),c=c.classList.contains("close-btn"),l=l.closest("ul"),t>=768&&a)!function(e){var t=e.timing,n=e.draw,r=e.duration;if(e.flag){var a=performance.now();requestAnimationFrame((function e(o){var c=(o-a)/r;c>1&&(c=1);var l=t(c);n(l),c<1&&requestAnimationFrame(e)}))}}(r),r.flag=!1;else if(c||l)r.flag=!0,n();else{if(o)return;r.flag=!0,n()}}))}(),o=document.querySelector(".popup"),c=document.querySelectorAll(".popup-btn"),document.querySelector(".popup-close"),c.forEach((function(e){e.addEventListener("click",(function(){o.style.display="block"}))})),o.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?o.style.display="none":(t=t.closest(".popup-content"))||(o.style.display="none")})),e(),t(),document.querySelectorAll(".command__photo").forEach((function(e){var t=e.getAttribute("src");e.addEventListener("mouseenter",(function(e){e.target.src=e.target.dataset.img})),e.addEventListener("mouseleave",(function(e){e.target.src=t}))})),a=function(e){return(e=(e=(e=(e=e.trim()).replace(/ +/g," ")).replace(/\-+/g,"-")).replace(/^-/g,"")).replace(/-$/g,"")},document.querySelectorAll("input").forEach((function(e){e.addEventListener("input",(function(e){if("form1-name"===e.target.id||"form2-name"===e.target.id||"form3-name"===e.target.id){var t=e.target.value;e.target.value=t.replace(/[;\+\>\<\*\!\=\.@:\?\,#\$\%^\&\}{\[\]\^\"\\\|\/\_)(\w]/gi,"")}else"form1-email"===e.target.id||"form2-email"===e.target.id||"form3-email"===e.target.id?e.target.value=e.target.value.replace(/[а-яА-Я;:\?\,)(#\$\%^\&\}{\[\]\^\"\\\|\/]/gi,""):"calc-item"===e.target.classList?e.target.value=e.target.value.replace(/\D/g,""):"form2-message"===e.target.id?e.target.value=e.target.value.replace(/[a-zA-Z)(#@\=\$\>\<\*\%\&\}{\[\]\^\\\|\/]/gi,""):e.target.value=e.target.value.replace(/[а-яА-Яa-zA-Z;\>\<\*)(\=\.@:\?\,#\$\%^\&\}{\[\]\^\"\\\|\/\_]/gi,"")})),e.addEventListener("blur",(function(e){if("form1-name"===e.target.id||"form2-name"===e.target.id||"form3-name"===e.target.id){var t=e.target.value;e.target.value=a(t)[0].toUpperCase()+a(t).slice(1,a(t).length).toLowerCase()}else"form1-email"!==e.target.id&&"form2-email"!==e.target.id&&"form3-email"!==e.target.id&&"calc-item"!==e.target.classList&&"form2-message"!==e.target.id&&"form1-phone"!==e.target.id&&"form2-phone"!==e.target.id&&"form3-phone"!==e.target.id||(e.target.value=a(e.target.value))}))})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),r=document.querySelector(".calc-square"),a=document.querySelector(".calc-day"),o=document.querySelector(".calc-count"),c=document.getElementById("total"),l=function(){var t=0,l=1,i=1,u=n.options[n.selectedIndex].value,s=+r.value;o.value>1&&(l+=(o.value-1)/10),a.value&&a.value<5?i*=2:a.value&&a.value<10&&(i*=1.5),u&&s&&(t=Math.round(e*u*s*l*i)),c.textContent=t};t.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&l()}))}(100),n=document.querySelectorAll("form"),(r=document.createElement("div")).style.cssText="font-size: 2rem;\n                                    color: #19b5fe",n.forEach((function(e){e.addEventListener("submit",(function(n){n.preventDefault(),e.appendChild(r),r.textContent="Загрузка...";var a=new FormData(e);t(a).then((function(e){if(200!==e.status)throw new Error("status network not 200!");r.textContent="Спасибо! Мы скоро с вами свяжемся!"})).catch((function(e){r.textContent="Что-то пошло не так(",console.error(e)}));var o=e.querySelectorAll("input");console.log(o),o.forEach((function(e){e.value=""}))}));var t=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-type":"application/json"},body:e,credentials:"include"})}}))})();